(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){},109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),s=(a(61),a(9)),i=a(8),u=a(11),l=a(10),h=a(12),d=new(a(45).Dispatcher);d.register(console.log);var m={iDispatcher:d,changeTodoListDay:function(e){d.dispatch({eventName:"change-todo-list-day",todoListDay:e})}},y=(a(65),["\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431","\u0432\u0441"]),p=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],f=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).createDayEl=function(e){var t=a.state.currentMonth,n=a.props.currentDay,o=a.getHoliday(e),c=[];return e.getMonth()!==t&&c.push("not-in-month"),o&&c.push("holiday"),+n===+e&&c.push("current-day"),r.a.createElement("li",{key:e.toString(),className:c.join(" "),onClick:a.clickByDay(e)},e.getDate())},a.clickByDay=function(e){return function(){var t=a.props.clickByDayHandler;t?t(e):m.changeTodoListDay(e)}},a.goPrevMonth=function(e){e.preventDefault(),a.shiftMonth(-1)},a.goNextMonth=function(e){e.preventDefault(),a.shiftMonth(1)};var n=e.startYear,o=e.startMonth,c=new Date(n,o,1);return a.state={currentMonth:c.getMonth(),currentYear:c.getFullYear()},a}return Object(h.a)(t,e),Object(i.a)(t,null,[{key:"getMonthDays",value:function(e,t){for(var a=new Date(e,t,1),n=(6+a.getDay())%7,r=new Date(e,t+1,0),o=0===r.getDay()?6:r.getDay()-1,c=new Date(e,t,1-n),s=new Date(e,t+1,6-o),i=[],u=new Date(c);u<=s;u.setDate(u.getDate()+1))i.push(new Date(u));return{firstDayInMonth:a,lastDayInMont:r,firstWeekDayInMonth:n,lastWeekDayInMont:o,startDay:c,endDay:s,daysList:i}}}]),Object(i.a)(t,[{key:"getHoliday",value:function(e){return this.props.holidays.find(function(t){return+t.day===+e})}},{key:"shiftMonth",value:function(e){this.setState(function(t){var a=t.currentYear,n=t.currentMonth,r=new Date(a,n+e,1);return{currentMonth:r.getMonth(),currentYear:r.getFullYear()}})}},{key:"render",value:function(){var e=this.state,a=e.currentMonth,n=e.currentYear,o=t.getMonthDays(n,a).daysList;return r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"calendar-controls"},r.a.createElement("button",{onClick:this.goPrevMonth,className:"calendar__prev-month"},"<"),r.a.createElement("div",{className:"calendar__title"},"".concat(p[a]," ").concat(n)),r.a.createElement("button",{onClick:this.goNextMonth,className:"calendar__next-month"},">")),r.a.createElement("ul",{className:"calendar-weekdays"},y.map(function(e){return r.a.createElement("li",{key:e},e)})),r.a.createElement("ul",{className:"calendar-days"},o.map(this.createDayEl)))}}]),t}(r.a.Component);f.defaultPropps={holidays:[]};var v=f,D=a(31),b=a(53),g=a(110),k=(a(67),a(46)),E=new(a.n(k).a);m.iDispatcher.register(function(e){switch(e.eventName){case"change-todo-list-day":E.todoListDay=e.todoListDay,E.trigger("change");break;default:console.log("unknown event",{payload:e})}return!0});var N=E,w=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).storageChanges=function(){a.setState(t.getCurrentDayParams(N.todoListDay))},a.changeTaskText=function(e){var t=e.target.value;a.setState({taskText:t})},a.addTask=function(e){e.preventDefault(),a.setState(function(e){var t=a.state,n=t.taskText,r=t.data,o=Object(b.a)(r);return o.push({id:(new Date).toISOString(),text:n}),{taskText:"",data:o}})},a.renderListElement=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.id,o=e.text,c=void 0===o?"":o,s=e.completed,i=["todo__item"];return void 0!==s&&s&&i.push("todo__item--completed"),r.a.createElement("li",{key:n||t,className:i.join(" ")},r.a.createElement("span",{onClick:a.completeTask(e)},c),r.a.createElement("button",{onClick:a.deleteTask(e)},"Del"))};var n=a.props.currentDay,o=N.todoListDay;return a.state={currentDay:n||o,taskText:"",data:[]},n||(a.state=Object(D.a)({},a.state,t.getCurrentDayParams(o))),a}return Object(h.a)(t,e),Object(i.a)(t,null,[{key:"getDayKey",value:function(e){return[e.getFullYear(),(e.getMonth()+"1").padStart(2,"0"),e.getDate()].join("-")}},{key:"getCurrentDayParams",value:function(e){var a=new Date(e),n=t.getDayKey(a);return{currentDayKey:n,currentStorageKey:"TODO_LIST_".concat(n)}}},{key:"getDerivedStateFromProps",value:function(e,a){return e.currentDay?t.getCurrentDayParams(e.currentDay):{}}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(),this.props.currentDay||N.bind("change",this.storageChanges)}},{key:"componentWillUnmount",value:function(){this.props.currentDay||N.unbind("change",this.storageChanges)}},{key:"componentDidUpdate",value:function(e,t){t.currentStorageKey!==this.state.currentStorageKey&&this.loadData(),t.data!==this.state.data&&this.saveTask()}},{key:"loadData",value:function(){var e=this.state.currentStorageKey,t=[];try{t=JSON.parse(window.localStorage[e]||"[]")}catch(a){console.error("can't parse data for ".concat(e))}this.setState({data:t})}},{key:"saveTask",value:function(){var e=this.state,t=e.data,a=e.currentStorageKey;window.localStorage[a]=JSON.stringify(t)}},{key:"completeTask",value:function(e){var t=this;return function(){t.setState(function(t){return{data:t.data.map(function(t){return t===e?Object(D.a)({},e,{completed:!e.completed}):t})}})}}},{key:"deleteTask",value:function(e){var t=this;return function(){t.setState(function(t){return{data:t.data.filter(function(t){return t.id!==e.id})}})}}},{key:"render",value:function(){var e=this.state,t=e.currentDayKey,a=e.data,n=e.taskText,o=this.props.hide;return r.a.createElement("div",{className:"todo"},r.a.createElement("h3",{className:"todo__banner"},"TODO List ".concat(t),o&&r.a.createElement(g.a,{bsStyle:"danger",onClick:o},"Hide")),r.a.createElement("ol",{className:"todo__list"},a.map(this.renderListElement)),r.a.createElement("form",{className:"todo__form",onSubmit:this.addTask},r.a.createElement("input",{onChange:this.changeTaskText,className:"todo__form-input",type:"text",value:n}),r.a.createElement("button",{className:"todo__form-add",type:"submit"},"Add")))}}]),t}(r.a.Component),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={beerName:""},a.changeInput=function(e){var t=e.target.value;a.setState({beerName:t})},a.submitHandler=function(e){e.preventDefault();var t=a.state.beerName;a.setState({beerName:""},function(){a.props.submitHandler&&a.props.submitHandler(t)})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.beerName;return r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("input",{type:"text",value:e,onChange:this.changeInput}),r.a.createElement("button",{type:"submit"},"Search"))}}]),t}(r.a.Component),j=a(18),S=a.n(j),M=a(30),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={beers:null},a.renderBeerItem=function(e){return r.a.createElement("li",null,e.name,";")},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadData(this.props.beerName)}},{key:"componentDidUpdate",value:function(e,t){var a=this;e.beerName!==this.props.beerName&&this.setState({beers:null},function(){return a.loadData(a.props.beerName)})}},{key:"loadData",value:function(){var e=Object(M.a)(S.a.mark(function e(t){var a,n,r,o;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){return(n=Object(M.a)(S.a.mark(function e(t){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.punkapi.com/v2/beers?beer_name=".concat(t)));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)},a=function(e){return n.apply(this,arguments)},!t){e.next=10;break}return e.next=5,a(t);case 5:return r=e.sent,e.next=8,r.json();case 8:o=e.sent,this.props.beerName===t&&this.setState({beers:o,beerName:t});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.beers,t=this.props.beerName;return r.a.createElement("ul",{className:"beer-list"},!e&&r.a.createElement("li",null,'loading beers for "'.concat(t,'"')),e&&e.map(this.renderBeerItem))}}]),t}(r.a.Component),_=a(111),x=a(115),L=a(112),C=a(113),I=a(114);a(106);var K=[{day:new Date(2019,0,1),title:"\u041d\u043e\u0432\u044b\u0439 \u0433\u043e\u0434"},{day:new Date(2019,0,7),title:"\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u043e \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u043e, \u043f\u0440\u0430\u0432\u043e\u0441\u043b\u0430\u0432\u043d\u043e\u0435"},{day:new Date(2019,2,8),title:"\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u0436\u0435\u043d\u0441\u043a\u0438\u0439 \u0434\u0435\u043d\u044c"},{day:new Date(2019,3,28),title:"\u041f\u0430\u0441\u0445\u0430"},{day:new Date(2019,4,1),title:"\u0414\u0435\u043d\u044c \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0439 \u0441\u043e\u043b\u0438\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u0438 \u0442\u0440\u0443\u0434\u044f\u0449\u0438\u0445\u0441\u044f"}],Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={selected:"home",beerName:""},a.handleSelect=function(e){a.setState({selected:e})},a.setBeerName=function(e){return a.setState({beerName:e})},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selected,a=e.beerName;return r.a.createElement(_.a,{lg:8,sm:6,xs:12,className:"content-body"},r.a.createElement(x.a,{bsStyle:"pills",activeKey:t,onSelect:this.handleSelect},r.a.createElement(L.a,{eventKey:"home",title:"home"},"NavItem home content"),r.a.createElement(L.a,{eventKey:"item",title:"Item"},"NavItem Item content"),r.a.createElement(L.a,{eventKey:"3",title:"Item 3"},"NavItem 3 content")),r.a.createElement(O,{submitHandler:this.setBeerName}),a&&r.a.createElement(T,{beerName:a}))}}]),t}(n.Component);function H(e){return r.a.createElement(_.a,{lg:4,sm:6,xs:12,className:"component-aside"},e.children)}var B=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).changeTodoListDayInStore=function(){a.setState({todoListDay:N.todoListDay})},a.hideTodoList=function(){m.changeTodoListDay(null)};var n=new Date;return n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),a.state={currentDay:n,currentMonth:n.getMonth(),currentYear:n.getFullYear()},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){N.bind("change",this.changeTodoListDayInStore)}},{key:"componentWillUnmount",value:function(){N.unbind("change",this.changeTodoListDayInStore)}},{key:"render",value:function(){var e=this.state,t=e.currentMonth,a=e.currentYear,n=e.currentDay,o=e.todoListDay;return r.a.createElement(C.a,null,r.a.createElement(I.a,null,r.a.createElement(Y,null),r.a.createElement(H,null,r.a.createElement(v,{holidays:K,currentDay:n,startMonth:t,startYear:a}))),o&&r.a.createElement(w,{hide:this.hideTodoList}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(B,null),document.getElementById("content")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){e.exports=a(109)},61:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){}},[[55,2,1]]]);
//# sourceMappingURL=main.bb620ba1.chunk.js.map